
# Editing parenscript

## Trident mode
- in conjunction with skewer-mode can execute parenscript
  in the browser. it does not support completion. it is on melpa
- if we don't use the parenscript package, macros are not expanded:
```
(@ (@
	((@ navigator media-devices get-user-media) constraints)
	(then got-stream))
       (catch handle-error))
```
- expands to this:
```
return at(at(at(navigator, mediaDevices, getUserMedia)(constraints), then(gotStream)), catch(handleError));
```
- using parenscript package gives:

```
    return navigator.mediaDevices.getUserMedia(constraints)[then(gotStream)][catch(handleError)];
```


## slime-proxy
- seems to do completion but needs parenscript patches and is not on
  melpa. i haven't tried it

# References

- https://whatwebcando.today/camera-microphone.html
- https://www.html5rocks.com/en/tutorials/getusermedia/intro/
- https://github.com/cljsjs/packages/tree/master/media-stream-recorder
- https://www.adobe.com/devnet/archive/html5/articles/javascript-motion-detection.html

- https://www.youtube.com/watch?v=_ZQOUQsw_YI live coding webgl
- https://www.youtube.com/watch?v=Ah7z3E56YPQ using the camera
- https://github.com/GoogleChromeLabs/snapshot/tree/master/src
- image capture using canvas https://youtu.be/Ah7z3E56YPQ?t=554
- https://github.com/GoogleChromeLabs/snapshot/blob/10dd00fed8ddbe67d379eca846c2ecfca3142b0d/src/camera-helper.ts
```
const canvas = document.createElement('canvas');
      const context = canvas.getContext('2d')!;
      canvas.width = video.videoWidth;
      canvas.height = video.videoHeight;
      context.drawImage(video, 0, 0);

return await canvasToBlob(canvas, constants.IMAGE_TYPE);
```
- contrast shader https://www.shadertoy.com/view/Xdf3RN
- progressive web app face detector https://youtu.be/m-sCdS0sQO8?t=1699

- https://openframeworks.cc/documentation/ofxEmscripten/ access camera with emscripten
- https://libcinder.org/about
- https://d2jta7o2zej4pf.cloudfront.net/
- https://github.com/shamadee/web-dsp
- https://www.html5rocks.com/en/tutorials/getusermedia/intro/
- https://developers.google.com/web/fundamentals/media/recording-video/
- https://developers.google.com/web/fundamentals/media/manipulating/live-effects
- https://webglfundamentals.org/
- http://blog.aviary.com/archive/live-image-processing-with-getusermedia-and-web-workers
- https://developer.mozilla.org/en-US/docs/Web/API/WebGL_API/Basic_2D_animation_example boilerplate to draw into canvas
- webgl gpu https://www.youtube.com/watch?v=qkDg-Y9iHBA
- https://github.com/turbo/js
- https://developer.mozilla.org/en-US/docs/Tools/Remote_Debugging/Debugging_Firefox_for_Android_over_Wifi
- (network does not work with chrome!) on device enable debugging over network, on desktop: adb connect 192.168.1.11
- https://developers.google.com/web/tools/chrome-devtools/remote-debugging/
- * daemon not running; starting now at tcp:5037
- when connecting using a usb cable make sure adb debugging is enabled and the usb connnection is in data transfer mode (not just charging)
- i forwarded the port localhost:8080 from my desktop to 8008 on the android phone. then the camera works
- mobile firefox on android allows reading the camera (even through http)
- https://webglfundamentals.org/webgl/lessons/webgl-fundamentals.html (* more recent)
- https://www.html5rocks.com/en/tutorials/webgl/webgl_fundamentals/ 
# Types
- typescript or eslint with tern.js?

# Get ssl keys
 - Congratulations! Your certificate and chain have been saved at
   /etc/letsencrypt/live/{hostname}/fullchain.pem. Your cert will
   expire on 201x-xx-xx. To obtain a new or tweaked version of this
   certificate in the future, simply run certbot again. To
   non-interactively renew *all* of your certificates, run "certbot
   renew"
- here is an example of how to self-sign:
- https://stackoverflow.com/questions/50749373/hunchentoot-define-easy-handler-with-ssl

# Install nginx
wget http://nginx.org/download/nginx-1.15.7.tar.gz
./configure --with-http_ssl_module --without-http_charset_module --without-http_gzip_module --without-http_ssi_module --without-http_userid_module --without-http_access_module --without-http_auth_basic_module --without-http_mirror_module --without-http_autoindex_module --without-http_geo_module --without-http_map_module --without-http_split_clients_module --without-http_referer_module --without-http_rewrite_module --without-http_proxy_module --without-http_fastcgi_module --without-http_uwsgi_module  --without-http_scgi_module  --without-http_grpc_module   --without-http_memcached_module  --without-http_browser_module  --without-http_upstream_hash_module  --without-http_upstream_ip_hash_module  --without-http_upstream_least_conn_module  --without-http_upstream_keepalive_module  --without-http_upstream_zone_module  --without-pcre --with-cpu-opt=native


